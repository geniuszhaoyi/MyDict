<!DOCTYPE html>
<html>
<head>
<style type="text/css">
<!--
.style1 {color: white}
-->
</style>
<script type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.1.min.js"></script><script>
var $_GET = (function(){
    var url = window.document.location.href.toString();
    var u = url.split("?");
    if(typeof(u[1]) == "string"){
        u = u[1].split("&");
        var get = {};
        for(var i in u){
            var j = u[i].split("=");
            get[j[0]] = j[1];
        }
        return get;
    } else {
        return {};
    }
})();
$.extend({aa:function(src){
  $.get(src,function(data,status){
    var obj = jQuery.parseJSON(data);
    if(obj.word=="__EMPTY__"){
      alert("暂时没有了哦");
      $("#desc").show();
      $("#nomore").show();
      $("#know").hide();
      $("#dontknow").hide();
    }else{
      if($("#word").text()!='__WORD__') alert($("#word").text()+'\n'+$("#desc").text());
      $("#word").text(obj.word);
      $("#desc").text(obj.desc);
      $("#status").text("0")
      $("#desc").hide();
      $("#nomore").hide();
    }
  });
}});
$(document).ready(function(){
  $("#user").text($_GET['user'])
  $.aa("servlet/markword.php?user="+$("#user").text());
  $("#know").click(function(){
    $.aa("servlet/markword.php?user="+$("#user").text()+"&word="+$("#word").text()+"&status="+$("#status").text()+" ");
  });
  $("#dontknow").click(function(){
    if($("#status").text()=="0"){
      $("#status").text("1")
      $("#desc").show();
    }else{
      $("#status").text("2")
      $.aa("servlet/markword.php?user="+$("#user").text()+"&word="+$("#word").text()+"&status="+$("#status").text()+" ");
    }
  });
});
</script>
</head>

<body>
<h2>背单词</h2>
<p id="user">__USER__</p>
<p>------------------------------------------</p>
<p id="word">__WORD__</p>
<p id="desc">__DESC__</p>
<button id='know'>I know this word. </button>
<button id='dontknow'>I DON'T know this word. </button>
<p id="status" class="style1">0</p>
<p id='nomore'>暂时没有了哦 - 请稍后刷新</button>
</body>
</html>

